APP_NAME="Sync Service"
APP_ENV=local
APP_KEY=base64:NERcGSftlzRl/O0+UhE9e8DpvKEm6dTRvMG0EEkZkuE=
APP_DEBUG=true
APP_URL=http://localhost

LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# ============================================
# Legacy Database (PostgreSQL)
# ============================================
DB_LEGACY_CONNECTION=pgsql
DB_LEGACY_HOST=127.0.0.1
DB_LEGACY_PORT=5433
DB_LEGACY_DATABASE=legacy_db
DB_LEGACY_USERNAME=postgres
DB_LEGACY_PASSWORD=postgres

# ============================================
# Revamped Database (MySQL)
# ============================================
DB_REVAMP_CONNECTION=mysql
DB_REVAMP_HOST=127.0.0.1
DB_REVAMP_PORT=3306
DB_REVAMP_DATABASE=revamp_db
DB_REVAMP_USERNAME=root
DB_REVAMP_PASSWORD=root

# ============================================
# Kafka Configuration
# ============================================
KAFKA_BROKERS=localhost:29092
KAFKA_CONSUMER_GROUP_ID=sync-service

# Legacy Events Consumer
KAFKA_LEGACY_TOPIC=legacy.public.legacy_users,legacy.public.legacy_posts,legacy.public.legacy_likes
KAFKA_LEGACY_CONSUMER_GROUP=sync-service-legacy

# Revamp Events Consumer
KAFKA_REVAMP_TOPIC=revamp.revamp_db.revamp_users,revamp.revamp_db.revamp_posts,revamp.revamp_db.revamp_likes
KAFKA_REVAMP_CONSUMER_GROUP=sync-service-revamp

# Dead Letter Queue
KAFKA_DLQ_TOPIC=sync.dlq

# Consumer Configuration
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=false
KAFKA_SESSION_TIMEOUT_MS=30000
KAFKA_MAX_POLL_RECORDS=100

# ============================================
# Sync Service Configuration
# ============================================
SYNC_MAX_RETRY_ATTEMPTS=3
SYNC_RETRY_INITIAL_DELAY=1000
SYNC_RETRY_MAX_DELAY=30000
SYNC_RETRY_MULTIPLIER=2

# Idempotency
SYNC_ENABLE_IDEMPOTENCY=true
SYNC_EVENT_DEDUPLICATION=true

# Observability
SYNC_ENABLE_METRICS=true
SYNC_LOG_LEVEL=debug
SYNC_LOG_EVENTS=true

